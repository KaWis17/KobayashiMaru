package org.example.Engine.BoardRepresentation;

import junit.framework.TestCase;
import org.example.Engine.BoardRepresentation.FEN.FenImplementer;
import org.example.Engine.BoardRepresentation.Move.Move;
import org.example.Engine.BoardRepresentation.State.State;
import org.example.Engine.MoveGeneration.MoveGenerator;

public class BoardTest extends TestCase {

    public void testProperMoveMaking() {
        String[] game1 = {"e2e4", "e7e5", "g1f3", "b8c6", "d2d4", "e5d4", "f3d4", "g8f6", "d4c6", "b7c6", "e4e5", "d8e7", "d1e2", "f6d5", "c2c4", "e7b4", "b1d2", "d5f4", "e2e3", "f4g6", "f1d3", "f8c5", "e3g3", "e8g8", "e1g1", "d7d6", "d2b3", "g6e5", "a2a3", "b4b6", "b3c5", "b6c5", "c1e3", "c5a5", "b2b4", "a5a4", "e3d4", "f7f6", "d4e5", "f6e5", "f2f4", "c8f5", "f4e5", "f5d3", "g3d3", "d6e5", "d3d7", "a4b3", "d7c6", "b3e3", "g1h1", "g8h8", "f1e1", "e3c3", "c6c7", "a8c8", "c7a7", "c8c4", "h2h3", "c4f4", "a7c5", "c3b2", "c5e5", "b2b3", "e5e3", "b3c4", "a1c1", "c4f7", "e3g3", "h7h6", "b4b5", "f7d5", "a3a4", "f4a4", "c1b1", "f8f5", "b5b6", "f5g5", "b6b7", "d5b7", "g3g5"};
        String[] fens1 = {"rnbqkbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBQKBNR b KQkq e3 0 1", "rnbqkbnr/pppp1ppp/8/4p3/4P3/8/PPPP1PPP/RNBQKBNR w KQkq e6 0 2", "rnbqkbnr/pppp1ppp/8/4p3/4P3/5N2/PPPP1PPP/RNBQKB1R b KQkq - 1 2", "r1bqkbnr/pppp1ppp/2n5/4p3/4P3/5N2/PPPP1PPP/RNBQKB1R w KQkq - 2 3", "r1bqkbnr/pppp1ppp/2n5/4p3/3PP3/5N2/PPP2PPP/RNBQKB1R b KQkq d3 0 3", "r1bqkbnr/pppp1ppp/2n5/8/3pP3/5N2/PPP2PPP/RNBQKB1R w KQkq - 0 4", "r1bqkbnr/pppp1ppp/2n5/8/3NP3/8/PPP2PPP/RNBQKB1R b KQkq - 0 4", "r1bqkb1r/pppp1ppp/2n2n2/8/3NP3/8/PPP2PPP/RNBQKB1R w KQkq - 1 5", "r1bqkb1r/pppp1ppp/2N2n2/8/4P3/8/PPP2PPP/RNBQKB1R b KQkq - 0 5", "r1bqkb1r/p1pp1ppp/2p2n2/8/4P3/8/PPP2PPP/RNBQKB1R w KQkq - 0 6", "r1bqkb1r/p1pp1ppp/2p2n2/4P3/8/8/PPP2PPP/RNBQKB1R b KQkq - 0 6", "r1b1kb1r/p1ppqppp/2p2n2/4P3/8/8/PPP2PPP/RNBQKB1R w KQkq - 1 7", "r1b1kb1r/p1ppqppp/2p2n2/4P3/8/8/PPP1QPPP/RNB1KB1R b KQkq - 2 7", "r1b1kb1r/p1ppqppp/2p5/3nP3/8/8/PPP1QPPP/RNB1KB1R w KQkq - 3 8", "r1b1kb1r/p1ppqppp/2p5/3nP3/2P5/8/PP2QPPP/RNB1KB1R b KQkq c3 0 8", "r1b1kb1r/p1pp1ppp/2p5/3nP3/1qP5/8/PP2QPPP/RNB1KB1R w KQkq - 1 9", "r1b1kb1r/p1pp1ppp/2p5/3nP3/1qP5/8/PP1NQPPP/R1B1KB1R b KQkq - 2 9", "r1b1kb1r/p1pp1ppp/2p5/4P3/1qP2n2/8/PP1NQPPP/R1B1KB1R w KQkq - 3 10", "r1b1kb1r/p1pp1ppp/2p5/4P3/1qP2n2/4Q3/PP1N1PPP/R1B1KB1R b KQkq - 4 10", "r1b1kb1r/p1pp1ppp/2p3n1/4P3/1qP5/4Q3/PP1N1PPP/R1B1KB1R w KQkq - 5 11", "r1b1kb1r/p1pp1ppp/2p3n1/4P3/1qP5/3BQ3/PP1N1PPP/R1B1K2R b KQkq - 6 11", "r1b1k2r/p1pp1ppp/2p3n1/2b1P3/1qP5/3BQ3/PP1N1PPP/R1B1K2R w KQkq - 7 12", "r1b1k2r/p1pp1ppp/2p3n1/2b1P3/1qP5/3B2Q1/PP1N1PPP/R1B1K2R b KQkq - 8 12", "r1b2rk1/p1pp1ppp/2p3n1/2b1P3/1qP5/3B2Q1/PP1N1PPP/R1B1K2R w KQ - 9 13", "r1b2rk1/p1pp1ppp/2p3n1/2b1P3/1qP5/3B2Q1/PP1N1PPP/R1B2RK1 b - - 10 13", "r1b2rk1/p1p2ppp/2pp2n1/2b1P3/1qP5/3B2Q1/PP1N1PPP/R1B2RK1 w - - 0 14", "r1b2rk1/p1p2ppp/2pp2n1/2b1P3/1qP5/1N1B2Q1/PP3PPP/R1B2RK1 b - - 1 14", "r1b2rk1/p1p2ppp/2pp4/2b1n3/1qP5/1N1B2Q1/PP3PPP/R1B2RK1 w - - 0 15", "r1b2rk1/p1p2ppp/2pp4/2b1n3/1qP5/PN1B2Q1/1P3PPP/R1B2RK1 b - - 0 15", "r1b2rk1/p1p2ppp/1qpp4/2b1n3/2P5/PN1B2Q1/1P3PPP/R1B2RK1 w - - 1 16", "r1b2rk1/p1p2ppp/1qpp4/2N1n3/2P5/P2B2Q1/1P3PPP/R1B2RK1 b - - 0 16", "r1b2rk1/p1p2ppp/2pp4/2q1n3/2P5/P2B2Q1/1P3PPP/R1B2RK1 w - - 0 17", "r1b2rk1/p1p2ppp/2pp4/2q1n3/2P5/P2BB1Q1/1P3PPP/R4RK1 b - - 1 17", "r1b2rk1/p1p2ppp/2pp4/q3n3/2P5/P2BB1Q1/1P3PPP/R4RK1 w - - 2 18", "r1b2rk1/p1p2ppp/2pp4/q3n3/1PP5/P2BB1Q1/5PPP/R4RK1 b - b3 0 18", "r1b2rk1/p1p2ppp/2pp4/4n3/qPP5/P2BB1Q1/5PPP/R4RK1 w - - 1 19", "r1b2rk1/p1p2ppp/2pp4/4n3/qPPB4/P2B2Q1/5PPP/R4RK1 b - - 2 19", "r1b2rk1/p1p3pp/2pp1p2/4n3/qPPB4/P2B2Q1/5PPP/R4RK1 w - - 0 20", "r1b2rk1/p1p3pp/2pp1p2/4B3/qPP5/P2B2Q1/5PPP/R4RK1 b - - 0 20", "r1b2rk1/p1p3pp/2pp4/4p3/qPP5/P2B2Q1/5PPP/R4RK1 w - - 0 21", "r1b2rk1/p1p3pp/2pp4/4p3/qPP2P2/P2B2Q1/6PP/R4RK1 b - f3 0 21", "r4rk1/p1p3pp/2pp4/4pb2/qPP2P2/P2B2Q1/6PP/R4RK1 w - - 1 22", "r4rk1/p1p3pp/2pp4/4Pb2/qPP5/P2B2Q1/6PP/R4RK1 b - - 0 22", "r4rk1/p1p3pp/2pp4/4P3/qPP5/P2b2Q1/6PP/R4RK1 w - - 0 23", "r4rk1/p1p3pp/2pp4/4P3/qPP5/P2Q4/6PP/R4RK1 b - - 0 23", "r4rk1/p1p3pp/2p5/4p3/qPP5/P2Q4/6PP/R4RK1 w - - 0 24", "r4rk1/p1pQ2pp/2p5/4p3/qPP5/P7/6PP/R4RK1 b - - 1 24", "r4rk1/p1pQ2pp/2p5/4p3/1PP5/Pq6/6PP/R4RK1 w - - 2 25", "r4rk1/p1p3pp/2Q5/4p3/1PP5/Pq6/6PP/R4RK1 b - - 0 25", "r4rk1/p1p3pp/2Q5/4p3/1PP5/P3q3/6PP/R4RK1 w - - 1 26", "r4rk1/p1p3pp/2Q5/4p3/1PP5/P3q3/6PP/R4R1K b - - 2 26", "r4r1k/p1p3pp/2Q5/4p3/1PP5/P3q3/6PP/R4R1K w - - 3 27", "r4r1k/p1p3pp/2Q5/4p3/1PP5/P3q3/6PP/R3R2K b - - 4 27", "r4r1k/p1p3pp/2Q5/4p3/1PP5/P1q5/6PP/R3R2K w - - 5 28", "r4r1k/p1Q3pp/8/4p3/1PP5/P1q5/6PP/R3R2K b - - 0 28", "2r2r1k/p1Q3pp/8/4p3/1PP5/P1q5/6PP/R3R2K w - - 1 29", "2r2r1k/Q5pp/8/4p3/1PP5/P1q5/6PP/R3R2K b - - 0 29", "5r1k/Q5pp/8/4p3/1Pr5/P1q5/6PP/R3R2K w - - 0 30", "5r1k/Q5pp/8/4p3/1Pr5/P1q4P/6P1/R3R2K b - - 0 30", "5r1k/Q5pp/8/4p3/1P3r2/P1q4P/6P1/R3R2K w - - 1 31", "5r1k/6pp/8/2Q1p3/1P3r2/P1q4P/6P1/R3R2K b - - 2 31", "5r1k/6pp/8/2Q1p3/1P3r2/P6P/1q4P1/R3R2K w - - 3 32", "5r1k/6pp/8/4Q3/1P3r2/P6P/1q4P1/R3R2K b - - 0 32", "5r1k/6pp/8/4Q3/1P3r2/Pq5P/6P1/R3R2K w - - 1 33", "5r1k/6pp/8/8/1P3r2/Pq2Q2P/6P1/R3R2K b - - 2 33", "5r1k/6pp/8/8/1Pq2r2/P3Q2P/6P1/R3R2K w - - 3 34", "5r1k/6pp/8/8/1Pq2r2/P3Q2P/6P1/2R1R2K b - - 4 34", "5r1k/5qpp/8/8/1P3r2/P3Q2P/6P1/2R1R2K w - - 5 35", "5r1k/5qpp/8/8/1P3r2/P5QP/6P1/2R1R2K b - - 6 35", "5r1k/5qp1/7p/8/1P3r2/P5QP/6P1/2R1R2K w - - 0 36", "5r1k/5qp1/7p/1P6/5r2/P5QP/6P1/2R1R2K b - - 0 36", "5r1k/6p1/7p/1P1q4/5r2/P5QP/6P1/2R1R2K w - - 1 37", "5r1k/6p1/7p/1P1q4/P4r2/6QP/6P1/2R1R2K b - - 0 37", "5r1k/6p1/7p/1P1q4/r7/6QP/6P1/2R1R2K w - - 0 38", "5r1k/6p1/7p/1P1q4/r7/6QP/6P1/1R2R2K b - - 1 38", "7k/6p1/7p/1P1q1r2/r7/6QP/6P1/1R2R2K w - - 2 39", "7k/6p1/1P5p/3q1r2/r7/6QP/6P1/1R2R2K b - - 0 39", "7k/6p1/1P5p/3q2r1/r7/6QP/6P1/1R2R2K w - - 1 40", "7k/1P4p1/7p/3q2r1/r7/6QP/6P1/1R2R2K b - - 0 40", "7k/1q4p1/7p/6r1/r7/6QP/6P1/1R2R2K w - - 0 41", "7k/1q4p1/7p/6Q1/r7/7P/6P1/1R2R2K b - - 0 41"};
        makeAndUnmakeMoves(game1, fens1);

        String[] game2 = {"d2d4", "g8f6", "c2c4", "g7g6", "b1c3", "d7d5", "g1f3", "f8g7", "h2h4", "c7c6", "c1g5", "d5c4", "e2e4", "c8e6", "e4e5", "f6d5", "h4h5", "b8d7", "h5h6", "g7f8", "c3e4", "f7f6", "g5d2", "b7b5", "a2a4", "e6f5", "e4g3", "e7e6", "g3f5", "e6f5", "a4b5", "c6b5", "f1e2", "f8e7", "e1g1", "a7a5", "b2b3", "c4c3", "e2b5", "c3d2", "e5e6", "e8g8", "e6d7", "d5c3", "b5c4", "g8h8", "d1d2", "c3e4", "d2e3", "d8d7", "f3d2", "e4d2", "e3d2", "e7b4", "d2d3", "d7d6", "a1a2", "a8e8", "a2e2", "d6f4", "g2g3", "f4h6", "g1g2", "f5f4", "f1h1", "h6g5", "e2e8", "f8e8", "c4f7", "e8e3", "f2e3", "g5g3", "g2f1", "f4f3"};
        String[] fens2 = {"rnbqkbnr/pppppppp/8/8/3P4/8/PPP1PPPP/RNBQKBNR b KQkq d3 0 1", "rnbqkb1r/pppppppp/5n2/8/3P4/8/PPP1PPPP/RNBQKBNR w KQkq - 1 2", "rnbqkb1r/pppppppp/5n2/8/2PP4/8/PP2PPPP/RNBQKBNR b KQkq c3 0 2", "rnbqkb1r/pppppp1p/5np1/8/2PP4/8/PP2PPPP/RNBQKBNR w KQkq - 0 3", "rnbqkb1r/pppppp1p/5np1/8/2PP4/2N5/PP2PPPP/R1BQKBNR b KQkq - 1 3", "rnbqkb1r/ppp1pp1p/5np1/3p4/2PP4/2N5/PP2PPPP/R1BQKBNR w KQkq d6 0 4", "rnbqkb1r/ppp1pp1p/5np1/3p4/2PP4/2N2N2/PP2PPPP/R1BQKB1R b KQkq - 1 4", "rnbqk2r/ppp1ppbp/5np1/3p4/2PP4/2N2N2/PP2PPPP/R1BQKB1R w KQkq - 2 5", "rnbqk2r/ppp1ppbp/5np1/3p4/2PP3P/2N2N2/PP2PPP1/R1BQKB1R b KQkq h3 0 5", "rnbqk2r/pp2ppbp/2p2np1/3p4/2PP3P/2N2N2/PP2PPP1/R1BQKB1R w KQkq - 0 6", "rnbqk2r/pp2ppbp/2p2np1/3p2B1/2PP3P/2N2N2/PP2PPP1/R2QKB1R b KQkq - 1 6", "rnbqk2r/pp2ppbp/2p2np1/6B1/2pP3P/2N2N2/PP2PPP1/R2QKB1R w KQkq - 0 7", "rnbqk2r/pp2ppbp/2p2np1/6B1/2pPP2P/2N2N2/PP3PP1/R2QKB1R b KQkq e3 0 7", "rn1qk2r/pp2ppbp/2p1bnp1/6B1/2pPP2P/2N2N2/PP3PP1/R2QKB1R w KQkq - 1 8", "rn1qk2r/pp2ppbp/2p1bnp1/4P1B1/2pP3P/2N2N2/PP3PP1/R2QKB1R b KQkq - 0 8", "rn1qk2r/pp2ppbp/2p1b1p1/3nP1B1/2pP3P/2N2N2/PP3PP1/R2QKB1R w KQkq - 1 9", "rn1qk2r/pp2ppbp/2p1b1p1/3nP1BP/2pP4/2N2N2/PP3PP1/R2QKB1R b KQkq - 0 9", "r2qk2r/pp1nppbp/2p1b1p1/3nP1BP/2pP4/2N2N2/PP3PP1/R2QKB1R w KQkq - 1 10", "r2qk2r/pp1nppbp/2p1b1pP/3nP1B1/2pP4/2N2N2/PP3PP1/R2QKB1R b KQkq - 0 10", "r2qkb1r/pp1npp1p/2p1b1pP/3nP1B1/2pP4/2N2N2/PP3PP1/R2QKB1R w KQkq - 1 11", "r2qkb1r/pp1npp1p/2p1b1pP/3nP1B1/2pPN3/5N2/PP3PP1/R2QKB1R b KQkq - 2 11", "r2qkb1r/pp1np2p/2p1bppP/3nP1B1/2pPN3/5N2/PP3PP1/R2QKB1R w KQkq - 0 12", "r2qkb1r/pp1np2p/2p1bppP/3nP3/2pPN3/5N2/PP1B1PP1/R2QKB1R b KQkq - 1 12", "r2qkb1r/p2np2p/2p1bppP/1p1nP3/2pPN3/5N2/PP1B1PP1/R2QKB1R w KQkq b6 0 13", "r2qkb1r/p2np2p/2p1bppP/1p1nP3/P1pPN3/5N2/1P1B1PP1/R2QKB1R b KQkq a3 0 13", "r2qkb1r/p2np2p/2p2ppP/1p1nPb2/P1pPN3/5N2/1P1B1PP1/R2QKB1R w KQkq - 1 14", "r2qkb1r/p2np2p/2p2ppP/1p1nPb2/P1pP4/5NN1/1P1B1PP1/R2QKB1R b KQkq - 2 14", "r2qkb1r/p2n3p/2p1pppP/1p1nPb2/P1pP4/5NN1/1P1B1PP1/R2QKB1R w KQkq - 0 15", "r2qkb1r/p2n3p/2p1pppP/1p1nPN2/P1pP4/5N2/1P1B1PP1/R2QKB1R b KQkq - 0 15", "r2qkb1r/p2n3p/2p2ppP/1p1nPp2/P1pP4/5N2/1P1B1PP1/R2QKB1R w KQkq - 0 16", "r2qkb1r/p2n3p/2p2ppP/1P1nPp2/2pP4/5N2/1P1B1PP1/R2QKB1R b KQkq - 0 16", "r2qkb1r/p2n3p/5ppP/1p1nPp2/2pP4/5N2/1P1B1PP1/R2QKB1R w KQkq - 0 17", "r2qkb1r/p2n3p/5ppP/1p1nPp2/2pP4/5N2/1P1BBPP1/R2QK2R b KQkq - 1 17", "r2qk2r/p2nb2p/5ppP/1p1nPp2/2pP4/5N2/1P1BBPP1/R2QK2R w KQkq - 2 18", "r2qk2r/p2nb2p/5ppP/1p1nPp2/2pP4/5N2/1P1BBPP1/R2Q1RK1 b kq - 3 18", "r2qk2r/3nb2p/5ppP/pp1nPp2/2pP4/5N2/1P1BBPP1/R2Q1RK1 w kq a6 0 19", "r2qk2r/3nb2p/5ppP/pp1nPp2/2pP4/1P3N2/3BBPP1/R2Q1RK1 b kq - 0 19", "r2qk2r/3nb2p/5ppP/pp1nPp2/3P4/1Pp2N2/3BBPP1/R2Q1RK1 w kq - 0 20", "r2qk2r/3nb2p/5ppP/pB1nPp2/3P4/1Pp2N2/3B1PP1/R2Q1RK1 b kq - 0 20", "r2qk2r/3nb2p/5ppP/pB1nPp2/3P4/1P3N2/3p1PP1/R2Q1RK1 w kq - 0 21", "r2qk2r/3nb2p/4PppP/pB1n1p2/3P4/1P3N2/3p1PP1/R2Q1RK1 b kq - 0 21", "r2q1rk1/3nb2p/4PppP/pB1n1p2/3P4/1P3N2/3p1PP1/R2Q1RK1 w - - 1 22", "r2q1rk1/3Pb2p/5ppP/pB1n1p2/3P4/1P3N2/3p1PP1/R2Q1RK1 b - - 0 22", "r2q1rk1/3Pb2p/5ppP/pB3p2/3P4/1Pn2N2/3p1PP1/R2Q1RK1 w - - 1 23", "r2q1rk1/3Pb2p/5ppP/p4p2/2BP4/1Pn2N2/3p1PP1/R2Q1RK1 b - - 2 23", "r2q1r1k/3Pb2p/5ppP/p4p2/2BP4/1Pn2N2/3p1PP1/R2Q1RK1 w - - 3 24", "r2q1r1k/3Pb2p/5ppP/p4p2/2BP4/1Pn2N2/3Q1PP1/R4RK1 b - - 0 24", "r2q1r1k/3Pb2p/5ppP/p4p2/2BPn3/1P3N2/3Q1PP1/R4RK1 w - - 1 25", "r2q1r1k/3Pb2p/5ppP/p4p2/2BPn3/1P2QN2/5PP1/R4RK1 b - - 2 25", "r4r1k/3qb2p/5ppP/p4p2/2BPn3/1P2QN2/5PP1/R4RK1 w - - 0 26", "r4r1k/3qb2p/5ppP/p4p2/2BPn3/1P2Q3/3N1PP1/R4RK1 b - - 1 26", "r4r1k/3qb2p/5ppP/p4p2/2BP4/1P2Q3/3n1PP1/R4RK1 w - - 0 27", "r4r1k/3qb2p/5ppP/p4p2/2BP4/1P6/3Q1PP1/R4RK1 b - - 0 27", "r4r1k/3q3p/5ppP/p4p2/1bBP4/1P6/3Q1PP1/R4RK1 w - - 1 28", "r4r1k/3q3p/5ppP/p4p2/1bBP4/1P1Q4/5PP1/R4RK1 b - - 2 28", "r4r1k/7p/3q1ppP/p4p2/1bBP4/1P1Q4/5PP1/R4RK1 w - - 3 29", "r4r1k/7p/3q1ppP/p4p2/1bBP4/1P1Q4/R4PP1/5RK1 b - - 4 29", "4rr1k/7p/3q1ppP/p4p2/1bBP4/1P1Q4/R4PP1/5RK1 w - - 5 30", "4rr1k/7p/3q1ppP/p4p2/1bBP4/1P1Q4/4RPP1/5RK1 b - - 6 30", "4rr1k/7p/5ppP/p4p2/1bBP1q2/1P1Q4/4RPP1/5RK1 w - - 7 31", "4rr1k/7p/5ppP/p4p2/1bBP1q2/1P1Q2P1/4RP2/5RK1 b - - 0 31", "4rr1k/7p/5ppq/p4p2/1bBP4/1P1Q2P1/4RP2/5RK1 w - - 0 32", "4rr1k/7p/5ppq/p4p2/1bBP4/1P1Q2P1/4RPK1/5R2 b - - 1 32", "4rr1k/7p/5ppq/p7/1bBP1p2/1P1Q2P1/4RPK1/5R2 w - - 0 33", "4rr1k/7p/5ppq/p7/1bBP1p2/1P1Q2P1/4RPK1/7R b - - 1 33", "4rr1k/7p/5pp1/p5q1/1bBP1p2/1P1Q2P1/4RPK1/7R w - - 2 34", "4Rr1k/7p/5pp1/p5q1/1bBP1p2/1P1Q2P1/5PK1/7R b - - 0 34", "4r2k/7p/5pp1/p5q1/1bBP1p2/1P1Q2P1/5PK1/7R w - - 0 35", "4r2k/5B1p/5pp1/p5q1/1b1P1p2/1P1Q2P1/5PK1/7R b - - 1 35", "7k/5B1p/5pp1/p5q1/1b1P1p2/1P1Qr1P1/5PK1/7R w - - 2 36", "7k/5B1p/5pp1/p5q1/1b1P1p2/1P1QP1P1/6K1/7R b - - 0 36", "7k/5B1p/5pp1/p7/1b1P1p2/1P1QP1q1/6K1/7R w - - 0 37", "7k/5B1p/5pp1/p7/1b1P1p2/1P1QP1q1/8/5K1R b - - 1 37", "7k/5B1p/5pp1/p7/1b1P4/1P1QPpq1/8/5K1R w - - 0 38"};
        makeAndUnmakeMoves(game2, fens2);

        String[] game3 = {"e2e4", "c7c5", "b1c3", "b8c6", "g1e2", "e7e5", "c3d5", "g8e7", "e2c3", "e7d5", "c3d5", "f8e7", "g2g3", "d7d6", "f1g2", "h7h5", "h2h4", "c8e6", "d2d3", "e6d5", "e4d5", "c6b8", "f2f4", "b8d7", "e1g1", "g7g6", "a1b1", "f7f5", "b2b4", "b7b6", "b4c5", "b6c5", "c2c4", "e8g8", "d1a4", "e7f6", "b1b7", "d7b6", "a4b5", "f8f7", "b7f7", "g8f7", "c1d2", "a8b8", "b5c6", "b6c8", "f1e1", "c8e7", "c6a4", "d8c7", "g1h2", "e5f4", "d2f4", "f6e5", "e1e2", "b8b6", "h2h3", "e7g8", "e2e5", "d6e5", "f4e5", "c7e7", "d5d6", "b6d6", "e5d6", "e7d6", "g2d5", "f7f8", "a4a7", "g8e7", "a7a8", "f8g7", "a8b7", "g7f8", "a2a4", "f5f4", "a4a5", "f4g3", "a5a6", "d6f4", "d5f3", "e7f5", "b7e4", "g3g2", "e4f4", "g2g1q", "f3e4", "g1a1", "a6a7", "a1a7", "e4f5", "g6f5", "f4f5", "f8g7", "f5g5", "g7f8", "g5h6", "f8g8", "h6h5", "a7c7", "h5g6", "g8h8", "g6f6", "h8g8", "f6e6", "g8h8", "e6d5", "c7f7", "h3g2", "f7g6", "g2h3", "g6f7", "d5e5", "h8h7", "h3g4", "f7g6", "g4f4", "g6h6", "f4f3", "h6g6", "e5e4", "h7h8", "f3e2", "g6d6", "e4e3", "d6h2", "e2e1", "h2h1", "e1d2", "h1h2", "d2c3", "h2h4", "d3d4", "h8h7", "d4d5", "h4f6", "c3c2", "f6d6", "e3g5", "h7h8", "c2d2", "d6b6", "g5e5", "h8g8", "e5e8", "g8g7", "e8b5", "b6c7", "d2c2", "g7f8", "b5a6", "c7h2", "c2b3", "h2b8", "a6b5", "b8c7", "b3a3", "c7a7", "a3b3", "f8e7", "b3c2", "e7d8", "c2d2", "a7c7", "b5a6", "c7f4", "d2c2", "f4e4"};
        String[] fens3 = {"rnbqkbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBQKBNR b KQkq e3 0 1", "rnbqkbnr/pp1ppppp/8/2p5/4P3/8/PPPP1PPP/RNBQKBNR w KQkq c6 0 2", "rnbqkbnr/pp1ppppp/8/2p5/4P3/2N5/PPPP1PPP/R1BQKBNR b KQkq - 1 2", "r1bqkbnr/pp1ppppp/2n5/2p5/4P3/2N5/PPPP1PPP/R1BQKBNR w KQkq - 2 3", "r1bqkbnr/pp1ppppp/2n5/2p5/4P3/2N5/PPPPNPPP/R1BQKB1R b KQkq - 3 3", "r1bqkbnr/pp1p1ppp/2n5/2p1p3/4P3/2N5/PPPPNPPP/R1BQKB1R w KQkq e6 0 4", "r1bqkbnr/pp1p1ppp/2n5/2pNp3/4P3/8/PPPPNPPP/R1BQKB1R b KQkq - 1 4", "r1bqkb1r/pp1pnppp/2n5/2pNp3/4P3/8/PPPPNPPP/R1BQKB1R w KQkq - 2 5", "r1bqkb1r/pp1pnppp/2n5/2pNp3/4P3/2N5/PPPP1PPP/R1BQKB1R b KQkq - 3 5", "r1bqkb1r/pp1p1ppp/2n5/2pnp3/4P3/2N5/PPPP1PPP/R1BQKB1R w KQkq - 0 6", "r1bqkb1r/pp1p1ppp/2n5/2pNp3/4P3/8/PPPP1PPP/R1BQKB1R b KQkq - 0 6", "r1bqk2r/pp1pbppp/2n5/2pNp3/4P3/8/PPPP1PPP/R1BQKB1R w KQkq - 1 7", "r1bqk2r/pp1pbppp/2n5/2pNp3/4P3/6P1/PPPP1P1P/R1BQKB1R b KQkq - 0 7", "r1bqk2r/pp2bppp/2np4/2pNp3/4P3/6P1/PPPP1P1P/R1BQKB1R w KQkq - 0 8", "r1bqk2r/pp2bppp/2np4/2pNp3/4P3/6P1/PPPP1PBP/R1BQK2R b KQkq - 1 8", "r1bqk2r/pp2bpp1/2np4/2pNp2p/4P3/6P1/PPPP1PBP/R1BQK2R w KQkq h6 0 9", "r1bqk2r/pp2bpp1/2np4/2pNp2p/4P2P/6P1/PPPP1PB1/R1BQK2R b KQkq h3 0 9", "r2qk2r/pp2bpp1/2npb3/2pNp2p/4P2P/6P1/PPPP1PB1/R1BQK2R w KQkq - 1 10", "r2qk2r/pp2bpp1/2npb3/2pNp2p/4P2P/3P2P1/PPP2PB1/R1BQK2R b KQkq - 0 10", "r2qk2r/pp2bpp1/2np4/2pbp2p/4P2P/3P2P1/PPP2PB1/R1BQK2R w KQkq - 0 11", "r2qk2r/pp2bpp1/2np4/2pPp2p/7P/3P2P1/PPP2PB1/R1BQK2R b KQkq - 0 11", "rn1qk2r/pp2bpp1/3p4/2pPp2p/7P/3P2P1/PPP2PB1/R1BQK2R w KQkq - 1 12", "rn1qk2r/pp2bpp1/3p4/2pPp2p/5P1P/3P2P1/PPP3B1/R1BQK2R b KQkq f3 0 12", "r2qk2r/pp1nbpp1/3p4/2pPp2p/5P1P/3P2P1/PPP3B1/R1BQK2R w KQkq - 1 13", "r2qk2r/pp1nbpp1/3p4/2pPp2p/5P1P/3P2P1/PPP3B1/R1BQ1RK1 b kq - 2 13", "r2qk2r/pp1nbp2/3p2p1/2pPp2p/5P1P/3P2P1/PPP3B1/R1BQ1RK1 w kq - 0 14", "r2qk2r/pp1nbp2/3p2p1/2pPp2p/5P1P/3P2P1/PPP3B1/1RBQ1RK1 b kq - 1 14", "r2qk2r/pp1nb3/3p2p1/2pPpp1p/5P1P/3P2P1/PPP3B1/1RBQ1RK1 w kq f6 0 15", "r2qk2r/pp1nb3/3p2p1/2pPpp1p/1P3P1P/3P2P1/P1P3B1/1RBQ1RK1 b kq b3 0 15", "r2qk2r/p2nb3/1p1p2p1/2pPpp1p/1P3P1P/3P2P1/P1P3B1/1RBQ1RK1 w kq - 0 16", "r2qk2r/p2nb3/1p1p2p1/2PPpp1p/5P1P/3P2P1/P1P3B1/1RBQ1RK1 b kq - 0 16", "r2qk2r/p2nb3/3p2p1/2pPpp1p/5P1P/3P2P1/P1P3B1/1RBQ1RK1 w kq - 0 17", "r2qk2r/p2nb3/3p2p1/2pPpp1p/2P2P1P/3P2P1/P5B1/1RBQ1RK1 b kq c3 0 17", "r2q1rk1/p2nb3/3p2p1/2pPpp1p/2P2P1P/3P2P1/P5B1/1RBQ1RK1 w - - 1 18", "r2q1rk1/p2nb3/3p2p1/2pPpp1p/Q1P2P1P/3P2P1/P5B1/1RB2RK1 b - - 2 18", "r2q1rk1/p2n4/3p1bp1/2pPpp1p/Q1P2P1P/3P2P1/P5B1/1RB2RK1 w - - 3 19", "r2q1rk1/pR1n4/3p1bp1/2pPpp1p/Q1P2P1P/3P2P1/P5B1/2B2RK1 b - - 4 19", "r2q1rk1/pR6/1n1p1bp1/2pPpp1p/Q1P2P1P/3P2P1/P5B1/2B2RK1 w - - 5 20", "r2q1rk1/pR6/1n1p1bp1/1QpPpp1p/2P2P1P/3P2P1/P5B1/2B2RK1 b - - 6 20", "r2q2k1/pR3r2/1n1p1bp1/1QpPpp1p/2P2P1P/3P2P1/P5B1/2B2RK1 w - - 7 21", "r2q2k1/p4R2/1n1p1bp1/1QpPpp1p/2P2P1P/3P2P1/P5B1/2B2RK1 b - - 0 21", "r2q4/p4k2/1n1p1bp1/1QpPpp1p/2P2P1P/3P2P1/P5B1/2B2RK1 w - - 0 22", "r2q4/p4k2/1n1p1bp1/1QpPpp1p/2P2P1P/3P2P1/P2B2B1/5RK1 b - - 1 22", "1r1q4/p4k2/1n1p1bp1/1QpPpp1p/2P2P1P/3P2P1/P2B2B1/5RK1 w - - 2 23", "1r1q4/p4k2/1nQp1bp1/2pPpp1p/2P2P1P/3P2P1/P2B2B1/5RK1 b - - 3 23", "1rnq4/p4k2/2Qp1bp1/2pPpp1p/2P2P1P/3P2P1/P2B2B1/5RK1 w - - 4 24", "1rnq4/p4k2/2Qp1bp1/2pPpp1p/2P2P1P/3P2P1/P2B2B1/4R1K1 b - - 5 24", "1r1q4/p3nk2/2Qp1bp1/2pPpp1p/2P2P1P/3P2P1/P2B2B1/4R1K1 w - - 6 25", "1r1q4/p3nk2/3p1bp1/2pPpp1p/Q1P2P1P/3P2P1/P2B2B1/4R1K1 b - - 7 25", "1r6/p1q1nk2/3p1bp1/2pPpp1p/Q1P2P1P/3P2P1/P2B2B1/4R1K1 w - - 8 26", "1r6/p1q1nk2/3p1bp1/2pPpp1p/Q1P2P1P/3P2P1/P2B2BK/4R3 b - - 9 26", "1r6/p1q1nk2/3p1bp1/2pP1p1p/Q1P2p1P/3P2P1/P2B2BK/4R3 w - - 0 27", "1r6/p1q1nk2/3p1bp1/2pP1p1p/Q1P2B1P/3P2P1/P5BK/4R3 b - - 0 27", "1r6/p1q1nk2/3p2p1/2pPbp1p/Q1P2B1P/3P2P1/P5BK/4R3 w - - 1 28", "1r6/p1q1nk2/3p2p1/2pPbp1p/Q1P2B1P/3P2P1/P3R1BK/8 b - - 2 28", "8/p1q1nk2/1r1p2p1/2pPbp1p/Q1P2B1P/3P2P1/P3R1BK/8 w - - 3 29", "8/p1q1nk2/1r1p2p1/2pPbp1p/Q1P2B1P/3P2PK/P3R1B1/8 b - - 4 29", "6n1/p1q2k2/1r1p2p1/2pPbp1p/Q1P2B1P/3P2PK/P3R1B1/8 w - - 5 30", "6n1/p1q2k2/1r1p2p1/2pPRp1p/Q1P2B1P/3P2PK/P5B1/8 b - - 0 30", "6n1/p1q2k2/1r4p1/2pPpp1p/Q1P2B1P/3P2PK/P5B1/8 w - - 0 31", "6n1/p1q2k2/1r4p1/2pPBp1p/Q1P4P/3P2PK/P5B1/8 b - - 0 31", "6n1/p3qk2/1r4p1/2pPBp1p/Q1P4P/3P2PK/P5B1/8 w - - 1 32", "6n1/p3qk2/1r1P2p1/2p1Bp1p/Q1P4P/3P2PK/P5B1/8 b - - 0 32", "6n1/p3qk2/3r2p1/2p1Bp1p/Q1P4P/3P2PK/P5B1/8 w - - 0 33", "6n1/p3qk2/3B2p1/2p2p1p/Q1P4P/3P2PK/P5B1/8 b - - 0 33", "6n1/p4k2/3q2p1/2p2p1p/Q1P4P/3P2PK/P5B1/8 w - - 0 34", "6n1/p4k2/3q2p1/2pB1p1p/Q1P4P/3P2PK/P7/8 b - - 1 34", "5kn1/p7/3q2p1/2pB1p1p/Q1P4P/3P2PK/P7/8 w - - 2 35", "5kn1/Q7/3q2p1/2pB1p1p/2P4P/3P2PK/P7/8 b - - 0 35", "5k2/Q3n3/3q2p1/2pB1p1p/2P4P/3P2PK/P7/8 w - - 1 36", "Q4k2/4n3/3q2p1/2pB1p1p/2P4P/3P2PK/P7/8 b - - 2 36", "Q7/4n1k1/3q2p1/2pB1p1p/2P4P/3P2PK/P7/8 w - - 3 37", "8/1Q2n1k1/3q2p1/2pB1p1p/2P4P/3P2PK/P7/8 b - - 4 37", "5k2/1Q2n3/3q2p1/2pB1p1p/2P4P/3P2PK/P7/8 w - - 5 38", "5k2/1Q2n3/3q2p1/2pB1p1p/P1P4P/3P2PK/8/8 b - a3 0 38", "5k2/1Q2n3/3q2p1/2pB3p/P1P2p1P/3P2PK/8/8 w - - 0 39", "5k2/1Q2n3/3q2p1/P1pB3p/2P2p1P/3P2PK/8/8 b - - 0 39", "5k2/1Q2n3/3q2p1/P1pB3p/2P4P/3P2pK/8/8 w - - 0 40", "5k2/1Q2n3/P2q2p1/2pB3p/2P4P/3P2pK/8/8 b - - 0 40", "5k2/1Q2n3/P5p1/2pB3p/2P2q1P/3P2pK/8/8 w - - 1 41", "5k2/1Q2n3/P5p1/2p4p/2P2q1P/3P1BpK/8/8 b - - 2 41", "5k2/1Q6/P5p1/2p2n1p/2P2q1P/3P1BpK/8/8 w - - 3 42", "5k2/8/P5p1/2p2n1p/2P1Qq1P/3P1BpK/8/8 b - - 4 42", "5k2/8/P5p1/2p2n1p/2P1Qq1P/3P1B1K/6p1/8 w - - 0 43", "5k2/8/P5p1/2p2n1p/2P2Q1P/3P1B1K/6p1/8 b - - 0 43", "5k2/8/P5p1/2p2n1p/2P2Q1P/3P1B1K/8/6q1 w - - 0 44", "5k2/8/P5p1/2p2n1p/2P1BQ1P/3P3K/8/6q1 b - - 1 44", "5k2/8/P5p1/2p2n1p/2P1BQ1P/3P3K/8/q7 w - - 2 45", "5k2/P7/6p1/2p2n1p/2P1BQ1P/3P3K/8/q7 b - - 0 45", "5k2/q7/6p1/2p2n1p/2P1BQ1P/3P3K/8/8 w - - 0 46", "5k2/q7/6p1/2p2B1p/2P2Q1P/3P3K/8/8 b - - 0 46", "5k2/q7/8/2p2p1p/2P2Q1P/3P3K/8/8 w - - 0 47", "5k2/q7/8/2p2Q1p/2P4P/3P3K/8/8 b - - 0 47", "8/q5k1/8/2p2Q1p/2P4P/3P3K/8/8 w - - 1 48", "8/q5k1/8/2p3Qp/2P4P/3P3K/8/8 b - - 2 48", "5k2/q7/8/2p3Qp/2P4P/3P3K/8/8 w - - 3 49", "5k2/q7/7Q/2p4p/2P4P/3P3K/8/8 b - - 4 49", "6k1/q7/7Q/2p4p/2P4P/3P3K/8/8 w - - 5 50", "6k1/q7/8/2p4Q/2P4P/3P3K/8/8 b - - 0 50", "6k1/2q5/8/2p4Q/2P4P/3P3K/8/8 w - - 1 51", "6k1/2q5/6Q1/2p5/2P4P/3P3K/8/8 b - - 2 51", "7k/2q5/6Q1/2p5/2P4P/3P3K/8/8 w - - 3 52", "7k/2q5/5Q2/2p5/2P4P/3P3K/8/8 b - - 4 52", "6k1/2q5/5Q2/2p5/2P4P/3P3K/8/8 w - - 5 53", "6k1/2q5/4Q3/2p5/2P4P/3P3K/8/8 b - - 6 53", "7k/2q5/4Q3/2p5/2P4P/3P3K/8/8 w - - 7 54", "7k/2q5/8/2pQ4/2P4P/3P3K/8/8 b - - 8 54", "7k/5q2/8/2pQ4/2P4P/3P3K/8/8 w - - 9 55", "7k/5q2/8/2pQ4/2P4P/3P4/6K1/8 b - - 10 55", "7k/8/6q1/2pQ4/2P4P/3P4/6K1/8 w - - 11 56", "7k/8/6q1/2pQ4/2P4P/3P3K/8/8 b - - 12 56", "7k/5q2/8/2pQ4/2P4P/3P3K/8/8 w - - 13 57", "7k/5q2/8/2p1Q3/2P4P/3P3K/8/8 b - - 14 57", "8/5q1k/8/2p1Q3/2P4P/3P3K/8/8 w - - 15 58", "8/5q1k/8/2p1Q3/2P3KP/3P4/8/8 b - - 16 58", "8/7k/6q1/2p1Q3/2P3KP/3P4/8/8 w - - 17 59", "8/7k/6q1/2p1Q3/2P2K1P/3P4/8/8 b - - 18 59", "8/7k/7q/2p1Q3/2P2K1P/3P4/8/8 w - - 19 60", "8/7k/7q/2p1Q3/2P4P/3P1K2/8/8 b - - 20 60", "8/7k/6q1/2p1Q3/2P4P/3P1K2/8/8 w - - 21 61", "8/7k/6q1/2p5/2P1Q2P/3P1K2/8/8 b - - 22 61", "7k/8/6q1/2p5/2P1Q2P/3P1K2/8/8 w - - 23 62", "7k/8/6q1/2p5/2P1Q2P/3P4/4K3/8 b - - 24 62", "7k/8/3q4/2p5/2P1Q2P/3P4/4K3/8 w - - 25 63", "7k/8/3q4/2p5/2P4P/3PQ3/4K3/8 b - - 26 63", "7k/8/8/2p5/2P4P/3PQ3/4K2q/8 w - - 27 64", "7k/8/8/2p5/2P4P/3PQ3/7q/4K3 b - - 28 64", "7k/8/8/2p5/2P4P/3PQ3/8/4K2q w - - 29 65", "7k/8/8/2p5/2P4P/3PQ3/3K4/7q b - - 30 65", "7k/8/8/2p5/2P4P/3PQ3/3K3q/8 w - - 31 66", "7k/8/8/2p5/2P4P/2KPQ3/7q/8 b - - 32 66", "7k/8/8/2p5/2P4q/2KPQ3/8/8 w - - 0 67", "7k/8/8/2p5/2PP3q/2K1Q3/8/8 b - - 0 67", "8/7k/8/2p5/2PP3q/2K1Q3/8/8 w - - 1 68", "8/7k/8/2pP4/2P4q/2K1Q3/8/8 b - - 0 68", "8/7k/5q2/2pP4/2P5/2K1Q3/8/8 w - - 1 69", "8/7k/5q2/2pP4/2P5/4Q3/2K5/8 b - - 2 69", "8/7k/3q4/2pP4/2P5/4Q3/2K5/8 w - - 3 70", "8/7k/3q4/2pP2Q1/2P5/8/2K5/8 b - - 4 70", "7k/8/3q4/2pP2Q1/2P5/8/2K5/8 w - - 5 71", "7k/8/3q4/2pP2Q1/2P5/8/3K4/8 b - - 6 71", "7k/8/1q6/2pP2Q1/2P5/8/3K4/8 w - - 7 72", "7k/8/1q6/2pPQ3/2P5/8/3K4/8 b - - 8 72", "6k1/8/1q6/2pPQ3/2P5/8/3K4/8 w - - 9 73", "4Q1k1/8/1q6/2pP4/2P5/8/3K4/8 b - - 10 73", "4Q3/6k1/1q6/2pP4/2P5/8/3K4/8 w - - 11 74", "8/6k1/1q6/1QpP4/2P5/8/3K4/8 b - - 12 74", "8/2q3k1/8/1QpP4/2P5/8/3K4/8 w - - 13 75", "8/2q3k1/8/1QpP4/2P5/8/2K5/8 b - - 14 75", "5k2/2q5/8/1QpP4/2P5/8/2K5/8 w - - 15 76", "5k2/2q5/Q7/2pP4/2P5/8/2K5/8 b - - 16 76", "5k2/8/Q7/2pP4/2P5/8/2K4q/8 w - - 17 77", "5k2/8/Q7/2pP4/2P5/1K6/7q/8 b - - 18 77", "1q3k2/8/Q7/2pP4/2P5/1K6/8/8 w - - 19 78", "1q3k2/8/8/1QpP4/2P5/1K6/8/8 b - - 20 78", "5k2/2q5/8/1QpP4/2P5/1K6/8/8 w - - 21 79", "5k2/2q5/8/1QpP4/2P5/K7/8/8 b - - 22 79", "5k2/q7/8/1QpP4/2P5/K7/8/8 w - - 23 80", "5k2/q7/8/1QpP4/2P5/1K6/8/8 b - - 24 80", "8/q3k3/8/1QpP4/2P5/1K6/8/8 w - - 25 81", "8/q3k3/8/1QpP4/2P5/8/2K5/8 b - - 26 81", "3k4/q7/8/1QpP4/2P5/8/2K5/8 w - - 27 82", "3k4/q7/8/1QpP4/2P5/8/3K4/8 b - - 28 82", "3k4/2q5/8/1QpP4/2P5/8/3K4/8 w - - 29 83", "3k4/2q5/Q7/2pP4/2P5/8/3K4/8 b - - 30 83", "3k4/8/Q7/2pP4/2P2q2/8/3K4/8 w - - 31 84", "3k4/8/Q7/2pP4/2P2q2/8/2K5/8 b - - 32 84", "3k4/8/Q7/2pP4/2P1q3/8/2K5/8 w - - 33 85"};
        makeAndUnmakeMoves(game3, fens3);
    }

    private void makeAndUnmakeMoves(String[] moves, String[] fens) {
        Board board = new Board();
        board.startFromDefaultPosition();

        for(int i=0; i<moves.length; i++) {
            Move m = new Move(moves[i], board);
            board.makeMove(m);
            assertEquals(fens[i], FenImplementer.BoardToFEN(board));
            assertTrue(CohesionCheck.isCohesive(board));
        }

        for (int i = moves.length-1; i >= 0; i--) {
            assertEquals(fens[i], FenImplementer.BoardToFEN(board));
            board.unmakeMove();
            assertTrue(CohesionCheck.isCohesive(board));
        }

        assertEquals(BoardConstants.STARTING_FEN, FenImplementer.BoardToFEN(board));
        assertTrue(CohesionCheck.isCohesive(board));
    }

    public void testGenerateMakeUnmakeMoves() {

        Board b = new Board();
        b.startFromDefaultPosition();
        MoveGenerator g = new MoveGenerator(b);

        State stateBeforeMove = b.currentBoardState;
        long[] deepCopy = b.bitBoardsRepresentation.bitBoards.clone();

        for(Move move : g.generateMoves()) {
            b.makeMove(move);
            b.unmakeMove();
            for(int i=0; i<deepCopy.length; i++) {
                assertEquals(deepCopy[i], b.bitBoardsRepresentation.bitBoards[i]);
            }
        }
    }

}